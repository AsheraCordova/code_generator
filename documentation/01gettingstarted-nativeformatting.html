<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ashera</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">    
    <link rel="shortcut icon" href="favicon.ico">  
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="assets/fontawesome/js/all.js"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">   
    <!-- Plugins CSS -->    
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">  
    <link rel="stylesheet" href="assets/plugins/simplelightbox/simple-lightbox.min.css">


    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
    
</head> 

<body class="body-purple">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                            <img alt="" src="assets/images/icon.png" height="100"><br>
                            <span class="text-highlight">CORDOVA </span><span class="text-bold">NATIVE</span>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">Getting Started</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper1">
            <div class="container-fluid">
                <div class="doc-body row flex-xl-nowrap">
                	<div class="doc-sidebar col-md-2 col-12 order-0 d-none d-md-flex " style="padding : 0px">
                    	<div class="sidebar left bg-defoult" style="width: 100%">
						  <ul class="list-sidebar bg-defoult">
						     <li> 
						    	<a href="#" data-bs-toggle="collapse" data-bs-target="#dashboard" class=" collapsed" aria-expanded="false"> 
						    		<span class="nav-label"> The Basics </span>
						    		<span class="fa fa-chevron-down pull-right"></span>
						    	</a>
						      	<ul class="sub-menu collapse" id="dashboard">
						        	<li><a href="gettingstarted.html">Introduction</a></li>
						        	<li><a href="gettingstarted-core-components.html">Core Components and Native Components</a></li>
						        	<li><a href="gettingstarted-fundamentals.html">Ashera Fundamentals</a></li>
						        	<li><a href="gettingstarted-handlingedittext.html">Handling EditText</a></li>
						        	<li><a href="gettingstarted-scrollview.html">Using a ScrollView</a></li>
						        	<li><a href="gettingstarted-listview.html">Using List View</a></li>
						      	</ul>
						    </li>
						    <li> 
						    	<a href="#" data-bs-toggle="collapse" data-bs-target="#essentials" class=" active" aria-expanded="true"> 
						    		<span class="nav-label"> The Essentials </span>
						    		<span class="fa fa-chevron-down pull-right"></span>
						    	</a>
						      	<ul class="sub-menu show" id="essentials">
						      		<li><a href="01gettingstarted-essentials.html">Creating your first project</a></li>
						        	<li><a href="01gettingstarted-devenv.html">Setting up the development environment</a></li>
						        	<li><a href="01gettingstarted-theming.html">Theming</a></li>
						        	<li><a href="01gettingstarted-uifragment.html">Creating your ui & backing fragment</a></li>
						        	<li><a href="01gettingstarted-validation.html">Validation</a></li>
						        	<li><a href="01gettingstarted-databinding.html">Data binding</a></li>
						        	<li><a href="01gettingstarted-navigation.html">Navigation</a></li>
						        	<li class="active"><a href="01gettingstarted-nativeformatting.html">Native Formatting</a></li>
						      	</ul>
						    </li>
						    
						    <li> 
						    	<a href="#" data-bs-toggle="collapse" data-bs-target="#advanced" class=" collapsed" aria-expanded="false"> 
						    		<span class="nav-label"> The Advanced </span>
						    		<span class="fa fa-chevron-down pull-right"></span>
						    	</a>
						      	<ul class="sub-menu collapse" id="advanced">
						        	<li><a href="02gettingstarted-newvalidation.html">Add new Validator</a></li>
						        	<li><a href="02gettingstarted-newattribute.html">Add new Attribute to existing widget</a></li>
						        	<li><a href="02gettingstarted-newnativeformatter.html">Add new Native Formatter</a></li>
						        	<li><a href="02gettingstarted-newandroidwidget.html">New Android Container View</a></li>
						        	<li><a href="02gettingstarted-newwidget.html">New Widget</a></li>
						      	</ul>
						    </li>
						  </ul>
						
						</div>
						
                    </div><!--//doc-sidebar-->
                    <div class="doc-content col-md-8 col-12">
                        <div class="content-inner">
							<h1 style="font-size: 35px; font-weight:bold">Native Formatting</h1>
							<p>
							Ashera provides formatting framework which helps to format the objects on native side onto to the use interface without a round trip to the webview.
							</p>
							
								
								<section id="Introduction" class="doc-section" >
									<h2 class="section-title">Introduction</h2>
									<div class="section-block">
								<p>
							The objects are stored in particular scope on the native side. Let us take a example, where a list is stored on the native side. If we want to display the sum of an attribute in a list, we need to request the entire list into the webview and loop over it do the sum and update the total on the textView. 
							Instead simple expression in modelPojoToUi will allow you to format the result of the expression to a string. 
							</p>
<pre><code class="language-markup">&lt;TextView
    style="@style/h2_bold_black"
    modelPojoToUi="text = total(.) from allocatedItems->view"
    modelPojoToUiParams="path:memPrice;numberFormat:##.00"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:text="10.23" /&gt;</code></pre>
	
							<p>The above example shows a scenario where textView is displaying the total of allocatedItems list which is stored in a view. The total is formatted to 2 decimal format.
						total(.) specifies that when a modelPojoToUi is done, it needs to send the result to total method with params, path as memPrice and numberFormat as ##.00. 
						</p>
						<p>
						The formatting framework handles the total call, loops over the object and sums the memPrice and finally formats it and returns the result. The result is set on the TextView. This helps to achieve native performance rather than being handled by the webview.
						</p>
						<p>
						
						The list of methods available in formatting framework are give below:
						
						<table class="table table-striped">
                             <thead>
                                 <tr>
                                     <th>Name</th>
                                     <th>Params</th>
                                     <th>Description</th>
                                 </tr>
                             </thead>
                             <tbody>
                                 <tr>
                                     <td>toString</td>
                                     <td>-</td>
                                     <td>Converts object attribute to string</td>
                                 </tr>
                                 <tr>
                                     <td>not</td>
                                     <td>-</td>
                                     <td>Boolean object is negated</td>
                                 </tr>
                                 <tr>
                                     <td>listToString</td>
                                     <td>separator</td>
                                     <td>list of strings to <b>separator</b> separated string. Default is comma</td>
                                 </tr>
                                 <tr>
                                     <td>concat</td>
                                     <td>fields, separator</td>
                                     <td>concat list of fields using separator specified. Default separator is whitespace</td>
                                 </tr>
                                 <tr>
                                     <td>size</td>
                                     <td>-</td>
                                     <td>Count of list object.</td>
                                 </tr>
                                 <tr>
                                     <td>visible</td>
                                     <td>-</td>
                                     <td>If the target object is list, size > 0. If the object is string, string is checked if it is not empty. If the object is boolean, the value must be true. In all these cases, the widget is visible else it is hidden</td>
                                 </tr>
                                 <tr>
                                     <td>gone</td>
                                     <td>-</td>
                                     <td>Opposite of visible.</td>
                                 </tr>
                                 <tr>
                                     <td>getDescFromModel</td>
                                     <td>scope, id, value</td>
                                     <td>Displays the description for the id passed in. The scope contains the list though which you loop to match the id and return value in the model.</td>
                                 </tr>
                                 <tr>
                                     <td>formatString</td>
                                     <td>format, fields</td>
                                     <td>Display the string using String.format method with the values retirved by path specified in the comma separated field list.</td>
                                 </tr>
                                 <tr>
                                     <td>getDescFromRes</td>
                                     <td>separator, entries, values</td>
                                     <td>Multi selected list is converted to string with separator. The values array is used to match the values in list so that the entries array description are displayed.</td>
                                 </tr>
                                 <tr>
                                     <td>multiply</td>
                                     <td>op1, op2</td>
                                     <td>Multiples model retrieved by op1 and op2.</td>
                                 </tr>
                                 <tr>
                                     <td>total</td>
                                     <td>path</td>
                                     <td>Sum of all list retrieved by path specified.</td>
                                 </tr>
                                 <tr>
                                     <td>baseElapsedTimeInMillis</td>
                                     <td>defaultValue, allowNegativeValues</td>
                                     <td>Used in chronometer to calculate the baseElapsedTimeInMillis. If the object retrieved is null, return defaultValues. If allowNegativeValues is false, the value if negative is zero.</td>
                                 </tr>
                                 <tr>
                                     <td>getFileAsset</td>
                                     <td>-</td>
                                     <td>Get the file asset as a string.</td>
                                 </tr>
                            </tbody>
                      	</table>
							</p>
									</div>
	                          	</section>
	                          	
	                          	<section id="style" class="doc-section" >
									<h2 class="section-title">Example - List View Total & Size</h2>
									
									<div class="section-block">
									<p>
										Let us take an example of displaying the size of list and sum of an attribute in the list.
									</p> 
									<p>
									<iframe loading="lazy" src="https://asheracordova.github.io/interactivesamples/index.html?url=https%3A%2F%2Fraw.githubusercontent.com%2FAsheraCordova%2FInteractivePlayGround%2Fmain%2Fandroid_backup%2Fres%2Flayout%2Frecycler_view_add_delete_native_formating.xml" height="500px" width="100%" frameborder="0" data-snack-iframe="true" style="display: block;"></iframe>
									</p>
									
								<p>
	                          	</p>
	                          </div>
                        </div><!--//content-inner-->
                        
                        <div class="row" style="margin-bottom: 10px">
	                        <div class="col-md-6 col-12">
								<a class="pagination-nav__link pagination-nav__link--previous" href="01gettingstarted-navigation.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Navigation</div></a>
							</div>
	                        <div class="col-md-6 col-12">
								<a class="pagination-nav__link pagination-nav__link--next" href="02gettingstarted-newvalidation.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Adding new validator</div></a>
							</div>
						</div>
                        
                    </div><!--//doc-content-->
                    
                    <div class="doc-sidebar col-md-2 col-12 d-none d-md-flex">
                    	<div class="sidebar left " style="position: relative">
                    		<div id="doc-nav" class="doc-nav" style="position : inherit">
	                            <ul id="doc-menu" class="nav doc-menu flex-column sticky">
		                            
		                             <li class="nav-item">
	                                    <a class="nav-link scrollto" href="#Introduction">Introduction</a>
		                            </li>
		                            <li class="nav-item">
		                             <a class="nav-link scrollto" href="#style">Example - List View Total & Size</a>
		                             </li>
	                            </ul><!--//doc-menu-->
	                            
                        	</div>
                    	</div>
                    </div>
                    
                </div><!--//doc-body-->              
            </div><!--//container-->
        </div><!--//doc-wrapper-->
    </div><!--//page-wrapper-->
    
    <footer id="footer" class="footer text-center">
        <div class="container">
            <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
            <small class="copyright">Designed with <span class="sr-only">love</span><i class="fas fa-heart"></i> by <a href="https://themes.3rdwavemedia.com/" target="_blank">Xiaoying Riley</a> for developers</small>
            
        </div><!--//container-->
    </footer><!--//footer-->
    
     
    <!-- Main Javascript -->          
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/plugins/prism/prism.js"></script>      
    <script src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>      
    <script src="assets/plugins/gumshoe/gumshoe.polyfills.min.js"></script> 
    <script src="assets/plugins/simplelightbox/simple-lightbox.min.js"></script>                                                          
    <script src="assets/js/main.js"></script>
	<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>   
</body>
</html> 

